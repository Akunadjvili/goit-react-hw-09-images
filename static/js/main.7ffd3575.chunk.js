(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Spinner:"Loader_Spinner__dfBZ_",Spinner__overlay:"Loader_Spinner__overlay__CJpj2",Spinner__roller:"Loader_Spinner__roller__2BKrc"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3Gm0L","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__17L_t"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1PbCA",Modal:"Modal_Modal__1zHoM"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__18Kmn"}},26:function(e,t,a){e.exports={Button:"Button_Button__1ym20"}},32:function(e,t,a){},4:function(e,t,a){e.exports={App:"App_App__3AOm5",App__container:"App_App__container__3Gg4Q",App__message:"App_App__message__7gEnJ",Modal__img:"App_Modal__img__2PNSV"}},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),o=a.n(c),s=(a(31),a(32),a(6)),i=a.n(s),l=a(16),u=a(10),m=a(3),j=a(7),b=a.n(j),p=a(0);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(p.jsx)("header",{className:b.a.Searchbar,children:Object(p.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(p.jsx)("button",{type:"submit",className:b.a["SearchForm-button"],children:Object(p.jsx)("span",{className:b.a["SearchForm-button-label"],children:"Search"})}),Object(p.jsx)("input",{className:b.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,name:"query",value:c,onChange:function(e){var t=e.currentTarget.value;o(t)},placeholder:"Search images and photos"})]})})}d.defaultProps={onSubmit:function(){}};var _=a(25),h=a.n(_),f=a(13),O=a.n(f);function v(e){var t=e.image,a=t.small,n=t.hint;return Object(p.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:a,alt:n,className:O.a["ImageGalleryItem-image"]})})}function g(e){var t=e.imageList,a=e.onClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("ul",{className:h.a.ImageGallery,onClick:a,ref:function(e){},children:t.map((function(e){return Object(p.jsx)(v,{image:e},e.id)}))})})}v.defaultProps={},g.defaultProps={imageList:[],onClick:function(){}};var x=a(26),S=a.n(x);function y(e){var t=e.onClick,a=e.children;return Object(p.jsx)("button",{className:S.a.Button,onClick:t,type:"button",children:a})}y.defaultProps={onClick:function(){}};var I=a(14),w=a.n(I),N=document.querySelector("#front-root");function k(e){var t=e.onClose,a=e.children;return Object(n.useEffect)((function(){var e=function(e){switch(e.code){case"Escape":t()}};return window.addEventListener("keydown",e),document.body.classList.add("modal-open"),function(){window.removeEventListener("keydown",e),document.body.classList.remove("modal-open")}}),[t]),Object(c.createPortal)(Object(p.jsx)("div",{className:w.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(p.jsx)("div",{className:w.a.Modal,children:a})}),N)}var F=a(11),L=a.n(F),A=document.querySelector("#front-root");function C(){return Object(c.createPortal)(Object(p.jsx)("div",{className:L.a.Spinner,children:Object(p.jsx)("div",{className:L.a.Spinner__overlay,children:Object(p.jsxs)("div",{className:L.a.Spinner__roller,children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})})}),A)}var G=a(15),M=a.n(G);M.a.defaults.baseURL="https://pixabay.com/api";var P="&image_type=photo&orientation=horizontal&per_page=".concat(12),E=function(e){var t=e.data.totalHits;return Math.ceil(t/12)},B=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/?q=".concat(t,"&page=").concat(a,"&key=").concat("20212958-6de35354194c73548614933a9").concat(P),e.next=4,M.a.get(n);case 4:return r=e.sent,e.abrupt("return",{data:(c=r,c.data.hits.map((function(e){return{id:e.id,small:e.webformatURL,large:e.largeImageURL,hint:e.tags}}))),totalPages:E(r)});case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},q=a(4),J=a.n(q);function T(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],j=o[1],b=Object(n.useState)(1),_=Object(m.a)(b,2),h=_[0],f=_[1],O=Object(n.useState)(0),v=Object(m.a)(O,2),x=v[0],S=v[1],I=Object(n.useState)(""),w=Object(m.a)(I,2),N=w[0],F=w[1],L=Object(n.useState)(""),A=Object(m.a)(L,2),G=A[0],M=A[1],P=Object(n.useState)(!1),E=Object(m.a)(P,2),q=E[0],T=E[1],U=Object(n.useState)(!1),R=Object(m.a)(U,2),Z=R[0],z=R[1],D=Object(n.useState)(!1),K=Object(m.a)(D,2),Q=K[0],V=K[1],W=Object(n.useCallback)((function(){T((function(e){return!e}))}),[]);Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(t,a){var n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,B(t,a);case 4:n=e.sent,c=n.data,o=n.totalPages,r((function(e){return[].concat(Object(l.a)(e),Object(l.a)(c))})),V(0===c.length),S(o),H(),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:return e.prev=16,z(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}s&&function(t,a){e.apply(this,arguments)}(s,h)}),[s,h]);var X=x-h;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:J.a.App,children:[Object(p.jsx)(d,{onSubmit:function(e){s!==e?(r([]),j(e),f(1),S(0),F(""),M(""),T(!1),z(!1),V(!1)):window.scrollTo({top:0,behavior:"smooth"})}}),Q?Object(p.jsx)("div",{className:J.a.App__message,children:Object(p.jsxs)("p",{children:['Images are not found for "',s,'"']})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{imageList:a,onClick:function(e){e.preventDefault();var t,n=e.target;if("IMG"===n.nodeName){var r=(t=n.src,a.find((function(e){return e.small===t}))),c=r.large,o=r.hint;F(c),M(o),W()}}}),h<x&&Object(p.jsx)("div",{className:J.a.App__container,children:Object(p.jsxs)(y,{onClick:function(){return f((function(e){return e+1}))},children:["Load more [",X,"]"]})})]})]}),q&&Object(p.jsx)(k,{onClose:W,children:Object(p.jsx)("img",{className:J.a.Modal__img,src:N,alt:G})}),Z&&Object(p.jsx)(C,{})]})}o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{className:J.a.App})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__32FHZ",SearchForm:"Searchbar_SearchForm__3L2EZ","SearchForm-button":"Searchbar_SearchForm-button__7fHXU","SearchForm-button-label":"Searchbar_SearchForm-button-label__GWFxY","SearchForm-input":"Searchbar_SearchForm-input__1e-ao"}}},[[53,1,2]]]);
//# sourceMappingURL=main.7ffd3575.chunk.js.map